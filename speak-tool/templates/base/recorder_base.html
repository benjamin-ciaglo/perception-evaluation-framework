<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="/static/styles.css" rel="stylesheet" type="text/css">
		<title>UW Master's Student Thesis: Perception Evaluation Framework</title>
	</head>

	<body>
		<div class="parent">
			<div class="child">
				<p><b>Instructions: </b>You will be submitting an audio recording using the interface below. Afterwards, you will listen to the recorded response of a dialogue agent that responds to your recording. You will be asked to rate the recorded response in terms of how you perceive it.</p>
			</div>
			<div class="child" style="color: green;"><b>Please ensure that your response includes at least fifteen words, is at least five seconds long, and at most 30 seconds long.</b></div>
			<div class="child">
				{% block task %}{% endblock %}
			</div>
		</div>
		<script type="text/javascript">
			var upload_link = "/{{ proctor }}/{{ battery }}/upload-voice/{{ test }}/{{ question }}?assignmentId={{ assignmentId }}";
			var next_link = "/{{ proctor }}/{{ battery }}/validate-voice/{{ test }}/{{ question }}?assignmentId={{ assignmentId }}";
		  
			if ("{{ hitId }}" !== "") {
			  upload_link += "&hitId={{ hitId }}";
			  next_link += "&hitId={{ hitId }}";
			}
			if ("{{ turkSubmitTo }}" !== "") {
			  upload_link += "&turkSubmitTo={{ turkSubmitTo }}";
			  next_link += "&turkSubmitTo={{ turkSubmitTo }}";
			}
		  
			upload_link += "&workerId={{ workerId }}";
			next_link += "&workerId={{ workerId }}";
		</script>
  		<script src="/static/js/third-party/recorder.js" type="text/javascript"></script>
		<script src="/static/js/third-party/volume-meter/volume-meter.js" type="text/javascript"></script>
  		<script src="/static/js/flask-voice-recorder-app.js"></script>
		<!-- <script type="text/javascript"> var name = "{{ question }}" </script>
		<script src="/static/js/progress-bar.js"></script>
		<script type="text/javascript"> function play_given_sound() { document.getElementById('given_sound').play(); }</script> -->
		
	</body>
</html>
